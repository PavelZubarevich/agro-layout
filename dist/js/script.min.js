"use strict";function _createForOfIteratorHelper(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,n=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return n=e.done,e},e:function(e){a=!0,s=e},f:function(){try{n||null==i.return||i.return()}finally{if(a)throw s}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Slider=function(){function n(e){var t=e.dots,i=void 0===t?null:t,r=e.infinity,s=void 0!==r&&r,t=e.slidesToShow,r=void 0===t?1:t,t=e.autoHeight,t=void 0!==t&&t,e=e.id,e=void 0===e?null:e;_classCallCheck(this,n),this.dots=i,this.infinity=s,this.slidesToShow=r,this.autoHeight=t,this.id=e}return _createClass(n,[{key:"init",value:function(){var e=document.querySelector(this.id?"#".concat(this.id):"#slider");e&&(this.slidesBlock=e.children.slides,this.slides=this.slidesBlock.children,this.numberOfSlides=this.slides.length,this.curentSlide=0,this.prepareSlides(),this.dots&&this.prepareDots(e),this.noEvents=!0,this.tuchSlide(),this.autoHeight&&this.autoHeightHandler(this.infinity,0))}},{key:"prepareSlides",value:function(){this.slidesArray=[],this.heightArray=[];var t=_createForOfIteratorHelper(this.slides);try{for(t.s();!(e=t.n()).done;){var e=e.value;this.slidesArray.push(e),this.heightArray.push(parseInt(getComputedStyle(e.children[0]).getPropertyValue("height"))+20)}}catch(e){t.e(e)}finally{t.f()}for(var i=0;i<this.numberOfSlides;i++)this.slides[0].remove();this.showSlides()}},{key:"showSlides",value:function(){this.infinity?this.slideOffset=-100:this.slideOffset=0;var t=_createForOfIteratorHelper(this.slidesArray);try{for(t.s();!(e=t.n()).done;){var e=e.value;e.style.transform="translate(".concat(this.slideOffset,"%, 0)"),e.style.transition="0.3s",this.slidesBlock.append(e)}}catch(e){t.e(e)}finally{t.f()}}},{key:"prepareDots",value:function(e){this.dotsBlock=e.children.dots;for(var t=this.dotsBlock.children,i=0;i<this.numberOfSlides;i++){var r=t[0].cloneNode(!0);r.children[0].setAttribute("data-id",i),0===i&&(r.children[0].checked=!0),r.addEventListener("change",this.shiftSlide.bind(this)),this.dotsBlock.append(r)}t[0].remove()}},{key:"shiftSlide",value:function(e,t){var i=this;t||0===t||(t=e.target.dataset.id);var r=null;t-this.curentSlide==1?(this.slideOffset=this.slideOffset-100,r=!0):t-this.curentSlide==-1?(this.slideOffset=this.slideOffset+100,r=!1):t-this.curentSlide==-2?(this.infinity?this.slideOffset=this.slideOffset-100:this.slideOffset=this.slideOffset+200,r=!0):t-this.curentSlide==2&&(this.infinity?this.slideOffset=this.slideOffset+100:this.slideOffset=this.slideOffset-200,r=!0);var s,n=_createForOfIteratorHelper(this.slidesArray);try{for(n.s();!(s=n.n()).done;)s.value.style.transform="translate(".concat(this.slideOffset,"%, 0)")}catch(e){n.e(e)}finally{n.f()}(t=3<=t?0:t)<=-1&&(t=2),this.curentSlide=t;var a=_createForOfIteratorHelper(this.dotsBlock.children);try{for(a.s();!(l=a.n()).done;){var l=l.value;+this.curentSlide==+l.children[0].dataset.id&&(l.children[0].checked=!0,this.autoHeight&&this.autoHeightHandler(this.infinity,+l.children[0].dataset.id))}}catch(e){a.e(e)}finally{a.f()}this.infinity&&setTimeout(function(){return i.updateSlides(r)},300)}},{key:"tuchSlide",value:function(){var s,n=0,i=function(e){var t=window.innerWidth<768?3:5;n=-Math.round((s-e.clientX)/t);var i,r=_createForOfIteratorHelper(this.slidesArray);try{for(r.s();!(i=r.n()).done;)i.value.style.transform="translate(".concat(this.slideOffset+n,"%, 0)")}catch(e){r.e(e)}finally{r.f()}-70===n&&(this.shiftSlide.bind(this)(null,this.curentSlide+1),a.bind(this)());70===n&&(this.shiftSlide.bind(this)(null,this.curentSlide-1),a.bind(this)())}.bind(this);function a(){document.removeEventListener("pointermove",i);var e,t=_createForOfIteratorHelper(this.slidesArray);try{for(t.s();!(e=t.n()).done;)e.value.style.transform="translate(".concat(this.slideOffset,"%, 0)")}catch(e){t.e(e)}finally{t.f()}}this.noEvents&&(this.slidesBlock.addEventListener("pointerdown",function(e){e.preventDefault(),s=e.clientX,document.addEventListener("pointermove",i)}.bind(this)),this.slidesBlock.addEventListener("pointerup",a.bind(this)),this.noEvents=!1)}},{key:"updateSlides",value:function(e){var t=null;e?(t=this.slidesArray.shift(),this.slidesArray.push(t)):!1===e&&(t=this.slidesArray.pop(),this.slidesArray.unshift(t)),this.showSlides()}},{key:"autoHeightHandler",value:function(e,t){e&&t++,3===t&&(t=0),this.slidesBlock.style.maxHeight="".concat(this.heightArray[t],"px")}}]),n}(),burger=document.querySelector(".burger"),headerTop=document.querySelector(".header__top"),headerNav=document.querySelector(".header-top__nav"),headerBtn=document.querySelector(".header-top__btn"),headerLogo=document.querySelector(".header-top__logo");burger.addEventListener("click",function(){burger.classList.toggle("_active"),headerTop.classList.toggle("_active"),headerNav.classList.toggle("_active"),headerBtn.classList.toggle("_active"),headerLogo.classList.toggle("_active")});var list=document.querySelector(".header-nav__list"),header=document.querySelector(".header-top__content"),width=window.innerWidth;window.innerWidth<576?list.appendChild(headerBtn):window.addEventListener("resize",function(){(window.innerWidth<576?list:header).appendChild(headerBtn)});var slider=new Slider({dots:!0,infinity:!0,autoHeight:!0});slider.init();